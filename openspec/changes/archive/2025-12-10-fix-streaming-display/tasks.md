## 1. 实施
- [x] 1.1 复盘 `useSSEChat` 与 `ChatPanel` 流式增量/完成逻辑，定位闪烁与未落消息的根因（状态累加、done 事件处理、messageId 缺失等）。
- [x] 1.2 调整增量累加与完成落库策略，确保首轮/新会话也能平滑显示并在完成时写入消息列表（含无 messageId 回退逻辑）。
- [ ] 1.3 手动验证：新建会话首条消息、连续消息、异常/中断三种场景，确认无需刷新即可看到完整回答且状态清理正常。
